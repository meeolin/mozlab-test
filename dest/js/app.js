webpackJsonp([0],{178:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var c=n(3),u=n(606),f=function(){function e(){var t=this;o(this,e),this.isQuestionPage=!0,this.server=new u.Server("ws://localhost:8080/"),this.connection=new WebSocket("ws://localhost:8080/"),this.connection.onerror=function(){t.isQuestionPage=!t.isQuestionPage}}return r(e,[{key:"sendRequest",value:function(){this.server.simulate("error")}}]),e}();f=i([c.Injectable(),s("design:paramtypes",[])],f),t.ToggleStore=f},365:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var c,u,f=n(3),l=n(36),p=n(170),d=n(47),y=n(76),m=n(172),b=n(124),v=n(125),h=n(65),g=n(175),w=n(33),S=n(168),R=n(403),_=n(404),O=n(406),j=n(407),k=n(99),P=n(178),M=function(){function e(t,n){o(this,e),this.appRef=t,this.appState=n}return r(e,[{key:"hmrOnInit",value:function(e){if(e&&e.state){if(this.appState._state=e.state,"restoreInputValues"in e){var t=e.restoreInputValues;setTimeout(t)}this.appRef.tick(),delete e.state,delete e.restoreInputValues}}},{key:"hmrOnDestroy",value:function(e){var t=this.appRef.components.map(function(e){return e.location.nativeElement}),n=this.appState._state;e.state=n,e.disposeOldHosts=S.createNewHosts(t),e.restoreInputValues=S.createInputTransfer(),S.removeNgStyles()}},{key:"hmrAfterDestroy",value:function(e){e.disposeOldHosts(),delete e.disposeOldHosts}}]),e}();M=i([f.NgModule({imports:[d.BrowserAnimationsModule,l.BrowserModule,w.FormsModule,p.HttpClientModule,y.MatButtonModule,m.MatCardModule,b.MatIconModule,v.MatInputModule,h.MatFormFieldModule,g.MatListModule],declarations:[R.AppComponent,O.QuestionComponent,j.VoteComponent],providers:[_.AppState,k.AnswersStore,P.ToggleStore],bootstrap:[R.AppComponent]}),s("design:paramtypes",["function"==typeof(c=void 0!==f.ApplicationRef&&f.ApplicationRef)&&c||Object,"function"==typeof(u=void 0!==_.AppState&&_.AppState)&&u||Object])],M),t.AppModule=M},366:function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(36),a=n(3),i=[],s=function(e){return e};s=function(e){var t=e.injector.get(a.ApplicationRef),n=t.components[0],o=window.ng;return r.enableDebugTools(n),window.ng.probe=o.probe,window.ng.coreTokens=o.coreTokens,e},i=[].concat(o(i)),t.decorateModuleRef=s,t.ENV_PROVIDERS=[].concat(o(i))},368:function(e,t){},403:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var c,u,f=n(3),l=n(178),p=n(99),d=function(){function e(t,n){o(this,e),this.toggleStorage=t,this.answerStorage=n,this.answerStorage.readFromStorage()}return r(e,[{key:"onKeyUp",value:function(e){32===e.keyCode&&"textarea"!==e.target.type&&this.answers.length&&this.toggleStorage.sendRequest()}},{key:"clear",value:function(){this.answerStorage.clearStorage()}},{key:"isQuestionPage",get:function(){return this.toggleStorage.isQuestionPage}},{key:"answers",get:function(){return this.answerStorage.answers}}]),e}();i([f.HostListener("document:keydown",["$event"]),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],d.prototype,"onKeyUp",null),d=i([f.Component({selector:"app",template:n(609)}),s("design:paramtypes",["function"==typeof(c=void 0!==l.ToggleStore&&l.ToggleStore)&&c||Object,"function"==typeof(u=void 0!==p.AnswersStore&&p.AnswersStore)&&u||Object])],d),t.AppComponent=d},404:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),c=function(){function e(){o(this,e),this._state={}}return r(e,[{key:"get",value:function(e){var t=this.state;return t.hasOwnProperty(e)?t[e]:t}},{key:"set",value:function(e,t){return this._state[e]=t}},{key:"_clone",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"state",get:function(){return this._state=this._clone(this._state)},set:function(e){throw Error("do not mutate the `.state` directly")}}]),e}();c=i([s.Injectable()],c),t.AppState=c},405:function(e,t,n){"use strict";function o(){return i.platformBrowserDynamic().bootstrapModule(s.AppModule,{defaultEncapsulation:r.ViewEncapsulation.None}).then(c.decorateModuleRef).catch(function(e){})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(168),i=n(122),s=n(365);n(368);var c=n(366);t.main=o,a.bootloader(o)},406:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var c,u=n(3),f=n(99),l=function(){function e(t){o(this,e),this.answerStorage=t,this.answerForSave="",this.error=""}return r(e,[{key:"saveAnswer",value:function(){this.answerStorage.save(this.answerForSave)?(this.answerForSave="",this.error=""):this.error="Такой ответ уже существует"}},{key:"handleAnswerChange",value:function(){this.error=""}},{key:"answers",get:function(){return this.answerStorage.answers}}]),e}();l=i([u.Component({selector:"question",template:n(610),styles:[n(612)]}),s("design:paramtypes",["function"==typeof(c=void 0!==f.AnswersStore&&f.AnswersStore)&&c||Object])],l),t.QuestionComponent=l},407:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var c,u,f,l=n(3),p=n(36),d=n(175),y=n(99),m=function(){function e(t,n,r){o(this,e),this.answerStorage=t,n.addSvgIcon("thumbs-up",r.bypassSecurityTrustResourceUrl("https://meeolin.github.io/mozlab-test/dest/img/thumbs-up.svg")),n.addSvgIcon("thumbs-down",r.bypassSecurityTrustResourceUrl("https://meeolin.github.io/mozlab-test/dest/img/thumbs-down.svg"))}return r(e,[{key:"vote",value:function(e,t){e.vote||this.answerStorage.vote(e,t)}},{key:"answers",get:function(){return this.answerStorage.answers}}]),e}();m=i([l.Component({selector:"vote",template:n(611),styles:[n(613)]}),s("design:paramtypes",["function"==typeof(c=void 0!==y.AnswersStore&&y.AnswersStore)&&c||Object,"function"==typeof(u=void 0!==d.MatIconRegistry&&d.MatIconRegistry)&&u||Object,"function"==typeof(f=void 0!==p.DomSanitizer&&p.DomSanitizer)&&f||Object])],m),t.VoteComponent=m},609:function(e,t){e.exports='<question *ngIf="isQuestionPage"></question><vote *ngIf="!isQuestionPage"></vote><div class="clear-btn"><button mat-raised-button color="primary" [disabled]="!answers.length" (click)="clear()">Очистить список ответов</button></div>'},610:function(e,t){e.exports='<mat-card class="question"><mat-card-title>Ответьте на вопрос</mat-card-title><mat-card-content><mat-card-subtitle>Ответьте на важный и насущный вопрос</mat-card-subtitle><mat-form-field><textarea matInput placeholder="Ваш ответ.." [(ngModel)]="answerForSave" (ngModelChange)="handleAnswerChange()"></textarea><div class="error" *ngIf="error">{{error}}</div></mat-form-field><mat-card-actions><button class="question__button" mat-raised-button color="primary" [disabled]="!answerForSave" (click)="saveAnswer()">Отправить</button></mat-card-actions></mat-card-content></mat-card><mat-card class="answers" *ngIf="!!answers.length"><mat-card-title>Уже отвечали:</mat-card-title><mat-card-content><mat-list><mat-list-item *ngFor="let answer of answers">{{answer.text}}</mat-list-item></mat-list></mat-card-content></mat-card>'},611:function(e,t){e.exports='<mat-card class="vote"><mat-card-title>Голосование</mat-card-title><mat-card-content><mat-list><mat-list-item *ngFor="let answer of answers"><span matLine>{{answer.text}}</span><mat-icon svgIcon="thumbs-up" (click)="vote(answer, 1)" [class._disabled]="answer.vote == -1" [class._active]="answer.vote == 1"></mat-icon><mat-icon svgIcon="thumbs-down" (click)="vote(answer, -1)" [class._disabled]="answer.vote == 1" [class._active]="answer.vote == -1"></mat-icon></mat-list-item></mat-list></mat-card-content></mat-card>'},612:function(e,t){e.exports=".question .mat-form-field {\n  width: 100%;\n  margin-bottom: 10px; }\n  .question .mat-form-field textarea {\n    max-height: 80px; }\n\n.question .mat-card-actions {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0; }\n  .question .mat-card-actions button.question__button {\n    margin-left: auto; }\n\n.question .error {\n  position: absolute;\n  margin-top: 10px;\n  font-size: 12px;\n  color: crimson; }\n\n.answers {\n  margin-top: 20px; }\n"},613:function(e,t){e.exports=".vote mat-icon {\n  cursor: pointer; }\n  .vote mat-icon._disabled {\n    cursor: default; }\n    .vote mat-icon._disabled .st0 {\n      fill: #b8b8b8; }\n  .vote mat-icon._active {\n    cursor: default; }\n    .vote mat-icon._active .st0 {\n      fill: #673ab7; }\n"},99:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),c=function(){function e(){o(this,e),this.answers=[]}return r(e,[{key:"save",value:function(e){var t=this.answers.some(function(t){return t.text===e.trim()});return t||(this.answers.push({text:e.trim(),vote:0}),this.saveToStorage()),!t}},{key:"vote",value:function(e,t){e.vote=t,this.saveToStorage()}},{key:"readFromStorage",value:function(){localStorage.getItem("answers")&&(this.answers=JSON.parse(localStorage.getItem("answers")))}},{key:"clearStorage",value:function(){this.answers=[]}},{key:"saveToStorage",value:function(){localStorage.setItem("answers",JSON.stringify(this.answers))}}]),e}();c=i([s.Injectable()],c),t.AnswersStore=c}},[405]);